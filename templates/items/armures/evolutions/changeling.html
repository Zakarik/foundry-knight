<div class="data">
    <h4 class="title js-toggler">
        <i class="far fa-minus-square"></i>
        {{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.Label"}}
    </h4>
    <h4>{{localize "KNIGHT.LATERAL.Energie"}}</h4>
    <label class="longspan">
        <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.ENERGIE.Personnelle"}}</span>
        <input type="number" name="system.evolutions.liste.{{key}}.capacites.changeling.energie.personnel"
        value="{{this.energie.personnel}}"
        min="0"
        />
    </label>
    <label class="longspan">
        <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.ENERGIE.Etendue"}}</span>
        <input type="number" name="system.evolutions.liste.{{key}}.capacites.changeling.energie.etendue"
        value="{{this.energie.etendue}}"
        min="0"
        />
    </label>
    <label class="longspan">
        <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.ENERGIE.ParFauxEtres"}}</span>
        <input type="number" name="system.evolutions.liste.{{key}}.capacites.changeling.energie.fauxEtre.value"
        value="{{this.energie.fauxEtre.value}}"
        min="0"
        />
    </label>
    <label class="longspan separation">
        <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.FauxEtresMax"}}</span>
        <input type="number" name="system.evolutions.liste.{{key}}.capacites.changeling.energie.fauxEtre.max"
        value="{{this.energie.fauxEtre.max}}"
        min="0"
        />
    </label>
    <label class="shortspan separation">
        <span>{{localize "KNIGHT.ACTIVATION.Label"}}</span>
        <select name="system.evolutions.liste.{{key}}.capacites.changeling.activation">
            {{selectOptions (getList 'activation3sec') selected=this.activation localize=true}}
        </select>
    </label>
    <label class="shortspan">
        <span>{{localize "KNIGHT.DUREE.Label"}}</span>
        <textarea name="system.evolutions.liste.{{key}}.capacites.changeling.duree"
        data-capacite="changeling" data-type="duree" data-min="50" data-key="{{key}}" data-evolution="true" style="height:{{this.textarea.duree}}px;"
       >{{this.duree}}</textarea>
    </label>
    <label class="shortspan">
        <span>{{localize "KNIGHT.PORTEE.Label"}}</span>
        <textarea name="system.evolutions.liste.{{key}}.capacites.changeling.portee"
            data-capacite="changeling" data-type="portee" data-min="50" data-key="{{key}}" data-evolution="true" style="height:{{this.textarea.portee}}px;"
           >{{this.portee}}</textarea>
    </label>

    <div class="button explosion">
        <button type="action" class="{{#if this.desactivationexplosive.acces}}selected{{/if}}"
        data-type="changeling" data-key="{{key}}" data-subtype="desactivationexplosive" data-name="acces" data-value="{{this.desactivationexplosive.acces}}"
        >
            {{this.desactivationexplosive.label}}
        </button>
        <label class="shortspan simple {{#unless this.desactivationexplosive.acces}}hidden{{/unless}}">
            <span>{{localize "KNIGHT.PORTEE.Label"}}</span>
            <select name="system.evolutions.liste.{{key}}.capacites.changeling.desactivationexplosive.portee">
                {{selectOptions (getList 'porteerestreint') selected=this.desactivationexplosive.portee localize=true}}
            </select>
        </label>
        <div class="{{#unless this.desactivationexplosive.acces}}hidden {{else}} double {{/unless}}">
            <div class="tripleLine">
                <span>{{localize "KNIGHT.AUTRE.Degats"}}</span>
                <label>
                    <input type="number" name="system.evolutions.liste.{{key}}.capacites.changeling.desactivationexplosive.degats.dice"
                    value="{{this.desactivationexplosive.degats.dice}}"
                    min="0"
                    />
                    <span class="D6">D6+</span>
                    <input type="number" name="system.evolutions.liste.{{key}}.capacites.changeling.desactivationexplosive.degats.fixe"
                    value="{{this.desactivationexplosive.degats.fixe}}"
                    min="0"
                    />
                </label>
            </div>
            <div class="tripleLine">
                <span>{{localize "KNIGHT.AUTRE.Violence"}}</span>
                <label>
                    <input type="number" name="system.evolutions.liste.{{key}}.capacites.changeling.desactivationexplosive.violence.dice"
                    value="{{this.desactivationexplosive.violence.dice}}"
                    min="0"
                    />
                    <span class="D6">D6+</span>
                    <input type="number" name="system.evolutions.liste.{{key}}.capacites.changeling.desactivationexplosive.violence.fixe"
                    value="{{this.desactivationexplosive.violence.fixe}}"
                    min="0"
                    />
                </label>
            </div>
        </div>
        <div class="{{#unless this.desactivationexplosive.acces}}hidden {{else}} effets {{/unless}}">
            {{#each this.desactivationexplosive.effets.liste as | key effet|}}
            <div>
                <span class="label">{{key.name}}</span>
                <img class="info" src="systems/knight/assets/icons/info.svg" />
                <span class="hideInfo">{{{getEffetsDescription key.description}}}</span>
            </div>
            {{/each}}
            <a class="edit changelingEdit" data-path="data.evolutions.liste.{{key}}.capacites.changeling.desactivationexplosive.effets">
                <span>{{localize "KNIGHT.EFFETS.Edit"}}</span>
            </a>
        </div>
    </div>
</div>

