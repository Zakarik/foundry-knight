<div class="changeling">
    <h3 class="header js-toggler">
        <i class="far fa-minus-square"></i>
        {{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.Label"}}
        <div>
            <a class="verrouillage" data-type="{{this.key}}" data-value="{{this.softlock}}">
                {{#if this.softlock}}
                {{localize "KNIGHT.AUTRE.Deverouiller"}}
                {{else}}
                {{localize "KNIGHT.AUTRE.Verrouiller"}}
                {{/if}}
            </a>
            <span>Â·</span>
            <a class="delete" data-type="{{this.key}}">
                {{localize "KNIGHT.AUTRE.Supprimer"}}
            </a>
        </div>
    </h3>

    {{editor this.description target="system.capacites.selected.changeling.description" button=true owner="../owner" editable="../editable"}}

    <div class="mainData">
        <div class="data">
            <h4>{{localize "KNIGHT.LATERAL.Energie"}}</h4>
            <label class="longspan">
                <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.ENERGIE.Personnelle"}}</span>
                <input type="number" name="system.capacites.selected.changeling.energie.personnel"
                value="{{this.energie.personnel}}"
                min="0"
                {{#if this.softlock}}disabled{{/if}} />
            </label>
            <label class="longspan">
                <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.ENERGIE.Etendue"}}</span>
                <input type="number" name="system.capacites.selected.changeling.energie.etendue"
                value="{{this.energie.etendue}}"
                min="0"
                {{#if this.softlock}}disabled{{/if}} />
            </label>
            <label class="longspan">
                <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.ENERGIE.ParFauxEtres"}}</span>
                <input type="number" name="system.capacites.selected.changeling.energie.fauxEtre.value"
                value="{{this.energie.fauxEtre.value}}"
                min="0"
                {{#if this.softlock}}disabled{{/if}} />
            </label>
            <label class="longspan separation">
                <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.CHANGELING.FauxEtresMax"}}</span>
                <input type="number" name="system.capacites.selected.changeling.energie.fauxEtre.max"
                value="{{this.energie.fauxEtre.max}}"
                min="0"
                {{#if this.softlock}}disabled{{/if}} />
            </label>
        </div>

        <div class="data">
            <label class="shortspan">
                <span>{{localize "KNIGHT.ACTIVATION.Label"}}</span>
                <select name="system.capacites.selected.changeling.activation" {{#if this.softlock}}disabled{{/if}}>
                    {{#select this.activation}}
                    <option value="aucune">{{localize "KNIGHT.ACTIVATION.Aucune"}}</option>
                    <option value="tour6Sec">{{localize "KNIGHT.ACTIVATION.Tour6Sec"}}</option>
                    <option value="combat3Sec">{{localize "KNIGHT.ACTIVATION.Combat3Sec"}}</option>
                    <option value="deplacement3Sec">{{localize "KNIGHT.ACTIVATION.Deplacement3Sec"}}</option>
                    {{/select}}
                </select>
            </label>
            <label class="shortspan">
                <span>{{localize "KNIGHT.DUREE.Label"}}</span>
                <textarea name="system.capacites.selected.changeling.duree"
                data-capacite="changeling" data-type="duree" data-min="50" style="height:{{this.textarea.duree}}px;"
                {{#if this.softlock}}disabled{{/if}}>{{this.duree}}</textarea>
            </label>
            <label class="shortspan">
                <span>{{localize "KNIGHT.PORTEE.Label"}}</span>
                <textarea name="system.capacites.selected.changeling.portee"
                    data-capacite="changeling" data-type="portee" data-min="50" style="height:{{this.textarea.portee}}px;"
                    {{#if this.softlock}}disabled{{/if}}>{{this.portee}}</textarea>
            </label>
        </div>

        <div class="explosion">
            <button type="action" class="{{#unless this.softlock}}notDisabled{{/unless}} {{#if this.desactivationexplosive.acces}}selected{{/if}}"
            data-type="changeling" data-subtype="desactivationexplosive" data-name="acces" data-value="{{this.desactivationexplosive.acces}}"
            {{#if this.softlock}}disabled{{/if}}>
                {{this.desactivationexplosive.label}}
            </button>
            <label class="shortspan simple {{#unless this.desactivationexplosive.acces}}hidden{{/unless}}">
                <span>{{localize "KNIGHT.PORTEE.Label"}}</span>
                <select name="system.capacites.selected.changeling.desactivationexplosive.portee" {{#if this.softlock}}disabled{{/if}}>
                    {{#select this.desactivationexplosive.portee}}
                    <option value="courte">{{localize "KNIGHT.PORTEE.Courte"}}</option>
                    <option value="moyenne">{{localize "KNIGHT.PORTEE.Moyenne"}}</option>
                    <option value="longue">{{localize "KNIGHT.PORTEE.Longue"}}</option>
                    <option value="lointaine">{{localize "KNIGHT.PORTEE.Lointaine"}}</option>
                    {{/select}}
                </select>
            </label>
            <label class="shortspan double {{#unless this.desactivationexplosive.acces}}hidden{{/unless}}">
               <span>{{localize "KNIGHT.AUTRE.Degats"}}</span>
               <div>
                    <input type="number" name="system.capacites.selected.changeling.desactivationexplosive.degats.dice"
                    value="{{this.desactivationexplosive.degats.dice}}"
                    min="0"
                    {{#if this.softlock}}disabled{{/if}} />
                    <span class="{{localize "KNIGHT.JETS.Des-short"}}6 {{#unless this.softlock}}notdisabled{{/unless}}">{{localize "KNIGHT.JETS.Des-short"}}6+</span>
                    <input type="number" name="system.capacites.selected.changeling.desactivationexplosive.degats.fixe"
                    value="{{this.desactivationexplosive.degats.fixe}}"
                    min="0"
                    {{#if this.softlock}}disabled{{/if}} />
                </div>
            </label>
            <label class="shortspan double {{#unless this.desactivationexplosive.acces}}hidden{{/unless}}">
               <span>{{localize "KNIGHT.AUTRE.Violence"}}</span>
               <div>
                    <input type="number" name="system.capacites.selected.changeling.desactivationexplosive.violence.dice"
                    value="{{this.desactivationexplosive.violence.dice}}"
                    min="0"
                    {{#if this.softlock}}disabled{{/if}} />
                    <span class="{{localize "KNIGHT.JETS.Des-short"}}6 {{#unless this.softlock}}notdisabled{{/unless}}">{{localize "KNIGHT.JETS.Des-short"}}6+</span>
                    <input type="number" name="system.capacites.selected.changeling.desactivationexplosive.violence.fixe"
                    value="{{this.desactivationexplosive.violence.fixe}}"
                    min="0"
                    {{#if this.softlock}}disabled{{/if}} />
                </div>
            </label>
            <div class="{{#unless this.desactivationexplosive.acces}}hidden {{else}} effets {{/unless}}">
                {{#each this.desactivationexplosive.effets.liste as | key effet|}}
                <div>
                    <span class="label">{{key.name}}</span>
                    <img class="info" src="systems/knight/assets/icons/info.svg" />
                    <span class="hideInfo">{{{getEffetsDescription key.description}}}</span>
                </div>
                {{/each}}
                <a class="edit" data-path="data.capacites.selected.changeling.desactivationexplosive.effets">
                    <span>{{localize "KNIGHT.EFFETS.Edit"}}</span>
                </a>
            </div>
        </div>
    </div>
</div>
