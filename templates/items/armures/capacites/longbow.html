
<div class="longbow">
    <h3 class="header js-toggler">
        <i class="far fa-minus-square"></i>
        {{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.Label"}}
        <div>
            <a class="verrouillage" data-type="{{this.key}}" data-value="{{this.softlock}}">
                {{#if this.softlock}}
                {{localize "KNIGHT.AUTRE.Deverouiller"}}
                {{else}}
                {{localize "KNIGHT.AUTRE.Verrouiller"}}
                {{/if}}
            </a>
            <span>Â·</span>
            <a class="delete" data-type="{{this.key}}">
                {{localize "KNIGHT.AUTRE.Supprimer"}}
            </a>
        </div>
    </h3>

    {{editor this.description target="system.capacites.selected.longbow.description" button=true owner="../owner" editable="../editable"}}

    <div class="mainData">
        <div class="col">
            <div class="data">
                <h4>{{localize "KNIGHT.PORTEE.Label"}}</h4>
                <label class="longspan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.PORTEE.Cout"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.portee.energie" value="{{this.portee.energie}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
                <label class="middlespan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.PORTEE.Min"}}</span>
                    <select name="system.capacites.selected.longbow.portee.min" {{#if this.softlock}}disabled{{/if}}>
                        {{selectOptions (getList 'porteerestreint') selected=this.portee.min localize=true}}
                    </select>
                </label>
                <label class="middlespan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.PORTEE.Max"}}</span>
                    <select name="system.capacites.selected.longbow.portee.max" {{#if this.softlock}}disabled{{/if}}>
                        {{selectOptions (getList 'porteerestreint') selected=this.portee.max localize=true}}
                    </select>
                </label>
            </div>

            <div class="data">
                <h4>{{localize "KNIGHT.AUTRE.Degats"}}</h4>
                <label class="longspan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.DEGATS.Cout"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.degats.energie" value="{{this.degats.energie}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
                <label class="longspan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.DEGATS.Min"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.degats.min" value="{{this.degats.min}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
                <label class="longspan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.DEGATS.Max"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.degats.max" value="{{this.degats.max}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
            </div>

            <div class="data">
                <h4>{{localize "KNIGHT.AUTRE.Violence"}}</h4>
                <label class="longspan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.VIOLENCE.Cout"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.violence.energie" value="{{this.violence.energie}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
                <label class="longspan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.VIOLENCE.Min"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.violence.min" value="{{this.violence.min}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
                <label class="longspan">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.VIOLENCE.Max"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.violence.max" value="{{this.violence.max}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
            </div>

            <div class="data">
                <h4>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.EFFETS.Base"}}</h4>
                <div class="effets">
                    {{#each this.effets.base.liste as | key effet|}}
                    <div>
                        <span class="label">{{key.name}}</span>
                        <img class="info" src="systems/knight/assets/icons/info.svg" />
                        <span class="hideInfo">{{{getEffetsDescription key.description}}}</span>
                    </div>
                    {{/each}}
                    <a class="edit" data-path="system.capacites.selected.longbow.effets.base">
                        <span>{{localize "KNIGHT.EFFETS.Edit"}}</span>
                    </a>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="data">
                <h4>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.EFFETS.Liste1"}}</h4>
                <label class="longspan borderBottom">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.EFFETS.Cout"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.effets.liste1.energie" value="{{this.effets.liste1.energie}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
                <div class="effets">
                    {{#each this.effets.liste1.liste as | key effet|}}
                    <div>
                        <span class="label">{{key.name}}</span>
                        <img class="info" src="systems/knight/assets/icons/info.svg" />
                        <span class="hideInfo">{{{getEffetsDescription key.description}}}</span>
                    </div>
                    {{/each}}
                    <a class="edit" data-path="system.capacites.selected.longbow.effets.liste1">
                        <span>{{localize "KNIGHT.EFFETS.Edit"}}</span>
                    </a>
                </div>
            </div>

            <div class="data">
                <h4>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.EFFETS.Liste2"}}</h4>
                <label class="longspan borderBottom">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.EFFETS.Cout"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.effets.liste2.energie" value="{{this.effets.liste2.energie}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
                <div class="effets">
                    {{#each this.effets.liste2.liste as | key effet|}}
                    <div>
                        <span class="label">{{key.name}}</span>
                        <img class="info" src="systems/knight/assets/icons/info.svg" />
                        <span class="hideInfo">{{{getEffetsDescription key.description}}}</span>
                    </div>
                    {{/each}}
                    <a class="edit" data-path="system.capacites.selected.longbow.effets.liste2">
                        <span>{{localize "KNIGHT.EFFETS.Edit"}}</span>
                    </a>
                </div>
            </div>

            <div class="data">
                <h4>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.EFFETS.Liste3"}}</h4>
                <button type="action" class="{{#unless this.softlock}}notDisabled{{/unless}} {{#if this.effets.liste3.acces}}selected{{/if}}"
                data-type="longbow" data-subtype="effets" data-anothersubtype="liste3" data-name="acces" data-value="{{this.effets.liste3.acces}}"
                {{#if this.softlock}}disabled{{/if}}>
                    {{this.effets.liste3.label}}
                </button>
                <label class="longspan  borderBottom {{#unless this.effets.liste3.acces}}hidden{{/unless}}">
                    <span>{{localize "KNIGHT.ITEMS.ARMURE.CAPACITES.LONGBOW.EFFETS.Cout"}}</span>
                    <input type="number" name="system.capacites.selected.longbow.effets.liste3.energie" value="{{this.effets.liste3.energie}}"
                    {{#if this.softlock}}disabled{{/if}}
                    />
                </label>
                <div class="effets {{#unless this.effets.liste3.acces}}hidden{{/unless}}">
                    {{#each this.effets.liste3.liste as | key effet|}}
                    <div>
                        <span class="label">{{key.name}}</span>
                        <img class="info" src="systems/knight/assets/icons/info.svg" />
                        <span class="hideInfo">{{{getEffetsDescription key.description}}}</span>
                    </div>
                    {{/each}}
                    <a class="edit" data-path="data.capacites.selected.longbow.effets.liste3">
                        <span>{{localize "KNIGHT.EFFETS.Edit"}}</span>
                    </a>
                </div>
            </div>
        </div>

        <div class="data dataFull">
            <h4 class="title">{{localize "KNIGHT.AMELIORATIONS.LABEL.DistanceLong"}}</h4>
            <div class="distance">
                {{#each this.distance.liste as | key effet|}}
                    <div>
                        <span class="label">{{key.name}}</span>
                        <img class="info" src="systems/knight/assets/icons/info.svg" />
                        <span class="hideInfo">{{{getEffetsDescription key.description}}}</span>
                    </div>
                {{/each}}
                <a class="edit" data-path="system.capacites.selected.longbow.distance">
                    <span>{{localize "KNIGHT.AMELIORATIONS.EDIT.Distance"}}</span>
                </a>
            </div>
        </div>
    </div>
</div>
